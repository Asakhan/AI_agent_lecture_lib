지금까지 작성한 코드를 테스트하고 개선해주세요.

[확인 사항]
1. 모든 import가 올바른지 확인
2. 타입 힌트가 일관성 있는지 확인
3. docstring이 명확한지 확인
4. 에러 처리가 적절한지 확인

[추가 기능]
1. 로깅 기능 추가 (선택적)
2. 대화 횟수 카운터 (선택적)

개선 사항이 있다면 제안하고 적용해주세요.